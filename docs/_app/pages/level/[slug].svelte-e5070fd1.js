import{S as e,i as s,s as n,j as r,k as t,e as a,t as o,m as c,n as l,c as u,a as m,d as g,g as f,b as $,o as d,f as i,E as p,u as h,w,x as y,h as v,M as k,O as j,v as S,H as N,V as x,r as A,U as E,Q as I,T as R,N as T}from"../../chunks/vendor-09e2d04d.js";import{p as M}from"../../chunks/stores-479d6723.js";import{N as b,M as D,R as L}from"../../chunks/ReceiveGoldUI-52e44754.js";import{M as V}from"../../chunks/MessageBox-19b49161.js";/* empty css                                                        */import{g as O,c as P}from"../../chunks/stores-3749ea87.js";import{s as U}from"../../chunks/scales-63786811.js";function B(e){let s,n;return s=new D({}),{c(){r(s.$$.fragment)},l(e){c(s.$$.fragment,e)},m(e,r){d(s,e,r),n=!0},i(e){n||(y(s.$$.fragment,e),n=!0)},o(e){h(s.$$.fragment,e),n=!1},d(e){S(s,e)}}}function C(e){let s,n,t,o,l;return n=new L({}),{c(){s=a("div"),r(n.$$.fragment)},l(e){s=u(e,"DIV",{});var r=m(s);c(n.$$.fragment,r),r.forEach(g)},m(e,r){i(e,s,r),d(n,s,null),l=!0},i(e){l||(y(n.$$.fragment,e),k((()=>{o&&o.end(1),t||(t=I(s,R,{y:-200,duration:700})),t.start()})),l=!0)},o(e){h(n.$$.fragment,e),t&&t.invalidate(),o=T(s,E,{}),l=!1},d(e){e&&g(s),S(n),e&&o&&o.end()}}}function G(e){let s,n,N,x,I,R,T,M,D,L,O,P,U,G,H=e[3].wonRound+"";s=new V({props:{mood:e[0],noteLetter:e[2].params.slug,message:e[4][e[1]]}}),x=new b({});const Q=[C,B],_=[];function q(e,s){return e[3].wonRound?0:1}return R=q(e),T=_[R]=Q[R](e),O=new V({props:{player:!0,message:"i know how to do this"}}),O.$on("click",e[5]),{c(){r(s.$$.fragment),n=t(),N=a("section"),r(x.$$.fragment),I=t(),T.c(),D=t(),L=a("div"),r(O.$$.fragment),P=t(),U=o(H),this.h()},l(e){c(s.$$.fragment,e),n=l(e),N=u(e,"SECTION",{class:!0});var r=m(N);c(x.$$.fragment,r),I=l(r),T.l(r),r.forEach(g),D=l(e),L=u(e,"DIV",{class:!0});var t=m(L);c(O.$$.fragment,t),P=l(t),U=f(t,H),t.forEach(g),this.h()},h(){$(N,"class","svelte-157wjgr"),$(L,"class","player-box svelte-157wjgr")},m(e,r){d(s,e,r),i(e,n,r),i(e,N,r),d(x,N,null),p(N,I),_[R].m(N,null),i(e,D,r),i(e,L,r),d(O,L,null),p(L,P),p(L,U),G=!0},p(e,[n]){const r={};1&n&&(r.mood=e[0]),4&n&&(r.noteLetter=e[2].params.slug),2&n&&(r.message=e[4][e[1]]),s.$set(r);let t=R;R=q(e),R!==t&&(A(),h(_[t],1,1,(()=>{_[t]=null})),w(),T=_[R],T||(T=_[R]=Q[R](e),T.c()),y(T,1),T.m(N,null)),(!G||8&n)&&H!==(H=e[3].wonRound+"")&&v(U,H)},i(e){G||(y(s.$$.fragment,e),y(x.$$.fragment,e),y(T),k((()=>{M||(M=j(N,E,{},!0)),M.run(1)})),y(O.$$.fragment,e),G=!0)},o(e){h(s.$$.fragment,e),h(x.$$.fragment,e),h(T),M||(M=j(N,E,{},!1)),M.run(0),h(O.$$.fragment,e),G=!1},d(e){S(s,e),e&&g(n),e&&g(N),S(x),_[R].d(),e&&M&&M.end(),e&&g(D),e&&g(L),S(O)}}}function H(e,s,n){let r,t,a;N(e,M,(e=>n(2,r=e))),N(e,O,(e=>n(3,t=e))),N(e,P,(e=>n(6,a=e)));let o="sad",c=r.params.slug;console.log(c);let l=t.letters.findIndex((e=>{if(e===c)return!0}));x(O,t.currentScale=U[l].notes,t),x(O,t.currentNoteTypes=U[l].noteTypes,t),console.log(U[l].notes);let u=a[c],m=0;console.log("key is "+l),x(O,t.canPresent=!0,t);return[o,m,r,t,u,()=>{console.log("checking answer..."),console.log("playing chord"),t.enteredNotesAsID.forEach(((e,s)=>{console.log(e),new Audio(`../static/sounds/note${e}.wav`).play()})),t.currentNoteTypes;const e=[t.currentScale[0],t.currentScale[2],t.currentScale[4]];t.currentScale[0],t.currentScale[2],t.currentScale[4],console.log("chord needed: "+e),console.log("your chord: "+t.enteredNotes),!function(e,s){if(!Array.isArray(e)||!Array.isArray(s)||e.length!==s.length)return!1;const n=e.concat().sort(),r=s.concat().sort();for(let t=0;t<n.length;t++)if(n[t]!==r[t])return!1;return!0}(e,t.enteredNotes)?n(1,m=2):(n(0,o="happy"),n(1,m=1),x(O,t.gold+=25,t),x(O,t.wonRound=!0,t),x(O,t.canPresent=!1,t),t.completedLetters.push(c))}]}class Q extends e{constructor(e){super(),s(this,e,H,G,n,{})}}export{Q as default};
