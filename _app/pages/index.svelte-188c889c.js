import{S as t,i as e,s as a,e as s,k as r,t as o,c as l,a as n,d as c,n as i,g as d,b as u,f,E as m,G as h,F as $,M as g,N as p,j as v,m as S,o as y,x as w,u as E,O as b,v as k,l as I,w as j,P as N,H as q,Q as x,R as V,T as D,r as T,U,V as z}from"../chunks/vendor-09e2d04d.js";import{N as A,R as M,M as R}from"../chunks/ReceiveGoldUI-4d6b2fb4.js";import{M as O}from"../chunks/MessageBox-6a670d8f.js";/* empty css                                                     */import{g as P,m as B}from"../chunks/stores-27da06e7.js";function G(t){let e,a,$,g,p,v,S,y,w,E,b,k,I;return{c(){e=s("div"),a=s("div"),$=s("img"),p=r(),v=s("div"),S=s("p"),y=o("chords are build from different notes of the major scale"),w=r(),E=s("br"),b=r(),k=s("p"),I=o("1st 3rd and 5th create a major chord"),this.h()},l(t){e=l(t,"DIV",{class:!0});var s=n(e);a=l(s,"DIV",{class:!0});var r=n(a);$=l(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(c),p=i(s),v=l(s,"DIV",{class:!0});var o=n(v);S=l(o,"P",{class:!0});var u=n(S);y=d(u,"chords are build from different notes of the major scale"),u.forEach(c),w=i(o),E=l(o,"BR",{}),b=i(o),k=l(o,"P",{class:!0});var f=n(k);I=d(f,"1st 3rd and 5th create a major chord"),f.forEach(c),o.forEach(c),s.forEach(c),this.h()},h(){$.src!==(g=`/static/scrolls/${t[0]}-major-scroll.png`)&&u($,"src",g),u($,"alt",""),u($,"class","svelte-1lkqzi1"),u(a,"class","scroll svelte-1lkqzi1"),u(S,"class","svelte-1lkqzi1"),u(k,"class","svelte-1lkqzi1"),u(v,"class","scroll-text svelte-1lkqzi1"),u(e,"class","scroll-container")},m(t,s){f(t,e,s),m(e,a),m(a,$),m(e,p),m(e,v),m(v,S),m(S,y),m(v,w),m(v,E),m(v,b),m(v,k),m(k,I)},p(t,[e]){1&e&&$.src!==(g=`/static/scrolls/${t[0]}-major-scroll.png`)&&u($,"src",g)},i:h,o:h,d(t){t&&c(e)}}}function H(t,e,a){let{type:s="c"}=e;return t.$$set=t=>{"type"in t&&a(0,s=t.type)},[s]}class C extends t{constructor(t){super(),e(this,t,H,G,a,{type:0})}}function F(t){let e,a,v,S,y,w,E,b,k,I,j;return{c(){e=s("section"),a=s("h1"),v=o("welcome to the forest of letters"),S=r(),y=s("button"),w=o("enter"),this.h()},l(t){e=l(t,"SECTION",{class:!0});var s=n(e);a=l(s,"H1",{});var r=n(a);v=d(r,"welcome to the forest of letters"),r.forEach(c),S=i(s),y=l(s,"BUTTON",{class:!0});var o=n(y);w=d(o,"enter"),o.forEach(c),s.forEach(c),this.h()},h(){u(y,"class","svelte-1bdq6dv"),u(e,"class","welcome svelte-1bdq6dv")},m(s,r){f(s,e,r),m(e,a),m(a,v),m(e,S),m(e,y),m(y,w),k=!0,I||(j=$(y,"click",t[3]),I=!0)},p:h,i(t){k||(g((()=>{b&&b.end(1),E||(E=x(e,U,{duration:400})),E.start()})),k=!0)},o(t){E&&E.invalidate(),b=p(e,V,{}),k=!1},d(t){t&&c(e),t&&b&&b.end(),I=!1,j()}}}function L(t){let e,a,r,o;return a=new C({props:{type:"c"}}),{c(){e=s("div"),v(a.$$.fragment),this.h()},l(t){e=l(t,"DIV",{class:!0});var s=n(e);S(a.$$.fragment,s),s.forEach(c),this.h()},h(){u(e,"class","scroll")},m(t,s){f(t,e,s),y(a,e,null),o=!0},i(t){o||(w(a.$$.fragment,t),g((()=>{r||(r=b(e,D,{y:200,duration:200},!0)),r.run(1)})),o=!0)},o(t){E(a.$$.fragment,t),r||(r=b(e,D,{y:200,duration:200},!1)),r.run(0),o=!1},d(t){t&&c(e),k(a),t&&r&&r.end()}}}function Q(t){let e,a,s,o;e=new O({props:{mood:t[0],message:t[2][t[1].tutorialState][1]}});let l=t[1].tutorialState>=4&&_(t);return{c(){v(e.$$.fragment),a=r(),l&&l.c(),s=I()},l(t){S(e.$$.fragment,t),a=i(t),l&&l.l(t),s=I()},m(t,r){y(e,t,r),f(t,a,r),l&&l.m(t,r),f(t,s,r),o=!0},p(t,a){const r={};1&a&&(r.mood=t[0]),6&a&&(r.message=t[2][t[1].tutorialState][1]),e.$set(r),t[1].tutorialState>=4?l?(l.p(t,a),2&a&&w(l,1)):(l=_(t),l.c(),w(l,1),l.m(s.parentNode,s)):l&&(T(),E(l,1,1,(()=>{l=null})),j())},i(t){o||(w(e.$$.fragment,t),w(l),o=!0)},o(t){E(e.$$.fragment,t),E(l),o=!1},d(t){k(e,t),t&&c(a),l&&l.d(t),t&&c(s)}}}function _(t){let e,a,o,d,h,$,p;a=new A({});const I=[K,J],N=[];function q(t,e){return t[1].tutorialState<=5?0:1}return d=q(t),h=N[d]=I[d](t),{c(){e=s("section"),v(a.$$.fragment),o=r(),h.c(),this.h()},l(t){e=l(t,"SECTION",{class:!0});var s=n(e);S(a.$$.fragment,s),o=i(s),h.l(s),s.forEach(c),this.h()},h(){u(e,"class","center-flex svelte-1bdq6dv")},m(t,s){f(t,e,s),y(a,e,null),m(e,o),N[d].m(e,null),p=!0},p(t,a){let s=d;d=q(t),d!==s&&(T(),E(N[s],1,1,(()=>{N[s]=null})),j(),h=N[d],h||(h=N[d]=I[d](t),h.c()),w(h,1),h.m(e,null))},i(t){p||(w(a.$$.fragment,t),w(h),g((()=>{$||($=b(e,U,{duration:20},!0)),$.run(1)})),p=!0)},o(t){E(a.$$.fragment,t),E(h),$||($=b(e,U,{duration:20},!1)),$.run(0),p=!1},d(t){t&&c(e),k(a),N[d].d(),t&&$&&$.end()}}}function J(t){let e,a,r,o,i;return a=new M({}),{c(){e=s("div"),v(a.$$.fragment)},l(t){e=l(t,"DIV",{});var s=n(e);S(a.$$.fragment,s),s.forEach(c)},m(t,s){f(t,e,s),y(a,e,null),i=!0},i(t){i||(w(a.$$.fragment,t),g((()=>{o&&o.end(1),r||(r=x(e,D,{y:-200,duration:500})),r.start()})),i=!0)},o(t){E(a.$$.fragment,t),r&&r.invalidate(),o=p(e,U,{}),i=!1},d(t){t&&c(e),k(a),t&&o&&o.end()}}}function K(t){let e,a;return e=new R({}),{c(){v(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,s){y(e,t,s),a=!0},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){k(e,t)}}}function W(t){let e,a,o,d,m,h,$,g=0==t[1].tutorialState&&F(t),p=1==t[1].tutorialState&&L(),b=t[1].tutorialState>=2&&Q(t);return h=new O({props:{player:!0,message:t[2][t[1].tutorialState][0]}}),h.$on("click",t[4]),{c(){e=r(),g&&g.c(),a=r(),p&&p.c(),o=r(),b&&b.c(),d=r(),m=s("div"),v(h.$$.fragment),this.h()},l(t){N('[data-svelte="svelte-1086fqi"]',document.head).forEach(c),e=i(t),g&&g.l(t),a=i(t),p&&p.l(t),o=i(t),b&&b.l(t),d=i(t),m=l(t,"DIV",{class:!0});var s=n(m);S(h.$$.fragment,s),s.forEach(c),this.h()},h(){document.title="bard.io",u(m,"class","player-box svelte-1bdq6dv")},m(t,s){f(t,e,s),g&&g.m(t,s),f(t,a,s),p&&p.m(t,s),f(t,o,s),b&&b.m(t,s),f(t,d,s),f(t,m,s),y(h,m,null),$=!0},p(t,[e]){0==t[1].tutorialState?g?(g.p(t,e),2&e&&w(g,1)):(g=F(t),g.c(),w(g,1),g.m(a.parentNode,a)):g&&(T(),E(g,1,1,(()=>{g=null})),j()),1==t[1].tutorialState?p?2&e&&w(p,1):(p=L(),p.c(),w(p,1),p.m(o.parentNode,o)):p&&(T(),E(p,1,1,(()=>{p=null})),j()),t[1].tutorialState>=2?b?(b.p(t,e),2&e&&w(b,1)):(b=Q(t),b.c(),w(b,1),b.m(d.parentNode,d)):b&&(T(),E(b,1,1,(()=>{b=null})),j());const s={};6&e&&(s.message=t[2][t[1].tutorialState][0]),h.$set(s)},i(t){$||(w(g),w(p),w(b),w(h.$$.fragment,t),$=!0)},o(t){E(g),E(p),E(b),E(h.$$.fragment,t),$=!1},d(t){t&&c(e),g&&g.d(t),t&&c(a),p&&p.d(t),t&&c(o),b&&b.d(t),t&&c(d),t&&c(m),k(h)}}}const X=!0;function Y(t,e,a){let s,r;q(t,P,(t=>a(1,s=t))),q(t,B,(t=>a(2,r=t)));let o="sad";2===s.tutorialState&&z(P,s.showUI=!1,s),3===s.tutorialState&&(console.log("state 3 fired"),z(P,s.showUI=!0,s)),s.tutorialState>=7&&(console.log("state 3 fired"),z(P,s.showUI=!1,s));return[o,s,r,()=>{z(P,s.tutorialState=1,s),z(P,s.showScroll=!0,s)},()=>{console.log("checking answer..."),console.log("playing chord"),s.enteredHalfTones.forEach(((t,e)=>{console.log("it issssss . . ."),console.log(t),new Audio(`../static/sounds/note${t}.wav`).play()}));const t=[s.currentScale[0],s.currentScale[2],s.currentScale[4]];s.currentScale[0],s.currentScale[2],s.currentScale[4],console.log("chord needed: "+t),console.log("your chord: "+s.enteredNotes),!function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;const a=t.concat().sort(),s=e.concat().sort();for(let r=0;r<a.length;r++)if(a[r]!==s[r])return!1;return!0}(t,s.enteredNotes)?z(P,s.tutorialState=5,s):(s.entered&&a(0,o="happy"),z(P,s.tutorialState=6,s),z(P,s.gold+=25,s),z(P,s.wonRound=!0,s),z(P,s.canPresent=!1,s),s.completedLetters.push("c"))}]}class Z extends t{constructor(t){super(),e(this,t,Y,W,a,{})}}export{Z as default,X as prerender};
